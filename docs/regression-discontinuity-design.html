<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Regression Discontinuity Design | M2 Econometrics Book</title>
  <meta name="description" content="Chapter 2 Regression Discontinuity Design | M2 Econometrics Book" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Regression Discontinuity Design | M2 Econometrics Book" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Regression Discontinuity Design | M2 Econometrics Book" />
  
  
  

<meta name="author" content="authors" />


<meta name="date" content="2024-02-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="regression-discontinuity-design-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">M2-Econometrics-Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html"><i class="fa fa-check"></i><b>2</b> Regression Discontinuity Design</a>
<ul>
<li class="chapter" data-level="2.1" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#political-fragmentation-and-government-stability-evidence-from-local-governments-in-spain"><i class="fa fa-check"></i><b>2.1</b> Political Fragmentation and Government Stability: Evidence from Local Governments in Spain</a>
<ul>
<li class="chapter" data-level="" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#highlights"><i class="fa fa-check"></i>Highlights</a></li>
<li class="chapter" data-level="2.1.1" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#introduction-1"><i class="fa fa-check"></i><b>2.1.1</b> Introduction</a></li>
<li class="chapter" data-level="2.1.2" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#rdd-methodology-and-paper-summary"><i class="fa fa-check"></i><b>2.1.2</b> RDD Methodology and Paper Summary</a></li>
<li class="chapter" data-level="2.1.3" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#good-practices-before-starting"><i class="fa fa-check"></i><b>2.1.3</b> Good Practices Before Starting</a></li>
<li class="chapter" data-level="2.1.4" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#descriptive-statistics"><i class="fa fa-check"></i><b>2.1.4</b> Descriptive Statistics</a></li>
<li class="chapter" data-level="2.1.5" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#empirical-strategy"><i class="fa fa-check"></i><b>2.1.5</b> Empirical Strategy</a></li>
<li class="chapter" data-level="2.1.6" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#main-results"><i class="fa fa-check"></i><b>2.1.6</b> Main Results</a></li>
<li class="chapter" data-level="2.1.7" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#robustness-checks"><i class="fa fa-check"></i><b>2.1.7</b> Robustness Checks</a></li>
<li class="chapter" data-level="2.1.8" data-path="regression-discontinuity-design.html"><a href="regression-discontinuity-design.html#references"><i class="fa fa-check"></i><b>2.1.8</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="regression-discontinuity-design-1.html"><a href="regression-discontinuity-design-1.html"><i class="fa fa-check"></i><b>3</b> Regression Discontinuity Design</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">M2 Econometrics Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="regression-discontinuity-design" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Regression Discontinuity Design<a href="regression-discontinuity-design.html#regression-discontinuity-design" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="political-fragmentation-and-government-stability-evidence-from-local-governments-in-spain" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Political Fragmentation and Government Stability: Evidence from Local Governments in Spain<a href="regression-discontinuity-design.html#political-fragmentation-and-government-stability-evidence-from-local-governments-in-spain" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>Carolina Arboleda Lenis, Elif C¸anga, Mariana Navarro Torres &amp; Martina Pugliese; December 2023</em></p>
<p>test adding information</p>
<div id="highlights" class="section level3 unnumbered hasAnchor">
<h3>Highlights<a href="regression-discontinuity-design.html#highlights" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="replication-paper" class="section level4 unnumbered hasAnchor">
<h4><strong>Replication Paper</strong><a href="regression-discontinuity-design.html#replication-paper" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Carozzi, F., Cipullo, Da. &amp; Repetto, L. (2022). ”Political Fragmentation and Government Stability: Evidence from Local Governments in Spain.” American Economic Journal: Applied Economics, 14 (2): 23-50.</p>
<ul>
<li>The research paper can be found <a href="https://www.aeaweb.org/articles?id=10.1257/app.20200128">here.</a></li>
<li>The original replication package can be found <a href="https://www.openicpsr.org/openicpsr/project/125341/version/V1/view">here.</a></li>
</ul>
</div>
<div id="key-takeaways" class="section level4 unnumbered hasAnchor">
<h4><strong>Key Takeaways</strong><a href="regression-discontinuity-design.html#key-takeaways" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><strong>Research question:</strong> How does political fragmentation impact government stability?.</li>
<li><strong>Methodology employed:</strong> Fuzzy Regression Discontinuity Design (RDD) model.
<ul>
<li>It belongs to the the regression discontinuity design broad methodology, which is a quasi experimental method used to estimate the causal effect of an intervention over a threshold or a cutoff point. It enables the comparison of individuals immediately above and below this specific cutoff point to assess the impact of a treatment on a particular outcome.</li>
<li>In a fuzzy RDD design the assignment rule determining how units are selected into the treatment is probabilistic. The probability of treatment exhibits a discontinuity at the cutoff, though not as a definitive 0 to 1 jump.</li>
</ul></li>
<li>In regards to the original replication package, we present here a simplified version of its main elements for an easy replication with only one dataset and one do-file.</li>
<li>Through this exercise, on top of standard Stata commands, we present a more in-depth explanation on how to make results’ tables using the “esttab” command, make more complex graphs with the “twoway” command and, specially, discover some commands from the “rdrobust” package, key for RDD analysis in Stata.</li>
</ul>
</div>
</div>
<div id="introduction-1" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Introduction<a href="regression-discontinuity-design.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The replication of research papers plays a pivotal role for Economics students. It allows them to learn about the implementation of econometrics methods, and to enhance the use of statistical software programs to further develop empirical works. This document provides a replication exercise for a fuzzy regression discontinuity design (RDD) model that estimates the impact of political fragmentation on government stability. It builds on a paper by Carozzi, Cipullo and Repetto (2022).</p>
<p>Specifically, this project aims to provide a comprehensive guide on executing an RDD model in Stata. It details the execution of the model through the use of commands and code, while explaining the fundamental concepts of this methodology in the process.</p>
<p>The content is structured in six parts. Section one provides an explanation on RDD methodology and a summary of the paper. Section two briefly explains how to set up your Stata environment to be able to do smoothly run this replication. Section three explains how to obtain and present summary statistics. Section four addresses the empirical strategy, explaining how to plot discontinuity graphs. Section five presents the main results, while showing how to perform RDD regressions and store and present results in tables. Finally, section six discusses the importance of robustness checks and provides explanations on the helpful commands to perform them in the context of the presented methodology.</p>
</div>
<div id="rdd-methodology-and-paper-summary" class="section level3 hasAnchor" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> RDD Methodology and Paper Summary<a href="regression-discontinuity-design.html#rdd-methodology-and-paper-summary" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The regression discontinuity design (RDD) is a quasi experimental method used to estimate the causal effect of an intervention over a threshold or a cutoff point. It enables the comparison of individuals immediately above and below this specific cutoff point to assess the impact of a treatment on a particular outcome. The method relies on the assumption that individuals near the cutoff point share similar observed and unobserved characteristics.</p>
<p>An RDD may adopt a fuzzy design, wherein the assignment rule determining how units are selected into the treatment is probabilistic. The probability of treatment exhibits a discontinuity at the cutoff, though not as a definitive 0 to 1 jump. The fuzziness in the design derives from factors such as imperfect compliance or manipulation of the selected threshold. In terms of results, an RDD estimates local average treatment effects around the cutoff point, where treatment and comparison individuals are most similar.</p>
<p>In the paper we replicate, the authors adopt a fuzzy RDD model in order to study how political fragmentation affects government stability.</p>
<p>The data employed is a panel of Spanish municipalities from 1979 to 2014. The time dimension corresponds to each legislature, indexed by the year of the corresponding municipal election (1979 to 2011). The main data sources consist of electoral records, data on individual mayors and mayoral changes, municipal demographics (population, density, etc.), and data on the composition of regional and national governments. Electoral outcomes in municipal elections were obtained from the Ministry of Internal Affairs and residential registry. The sample consists of municipalities with more than 250 inhabitants for a total of 51,000 elections. The final dataset includes 42,259 elections because of additional data restrictions.</p>
<p>To obtain causal estimates of the effect of fragmentation – measured as the number of parties in the council – on government stability, they exploit the existence of a 5% vote-share threshold for admission to the local council. This threshold causes parties with vote-shares just below 5% to be excluded from the council, generating exogenous variation in the number of parties with representation. Results show that each additional party with representation in the parliament increases the probability that the incumbent government is unseated by 5 percentage points.</p>
</div>
<div id="good-practices-before-starting" class="section level3 hasAnchor" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Good Practices Before Starting<a href="regression-discontinuity-design.html#good-practices-before-starting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, we advise on two procedures before starting an empirical analysis in Stata. First, the creation of folders, which assures an organized storage of the analysis’ inputs and outputs.</p>
<p>Second, the installation of all packages required to successfully carry out the replication.</p>
<div id="folder-creation" class="section level4 unnumbered hasAnchor">
<h4><strong>Folder creation</strong><a href="regression-discontinuity-design.html#folder-creation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Create the appropriate folders and globals to store your datasets and results. A global is a named storage location that can hold a value or a string of text. We use the command “global” to define it and the prefix “$” to access it.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb1-1"><a href="regression-discontinuity-design.html#cb1-1" tabindex="-1"></a><span class="kw">clear</span> <span class="ot">all</span></span>
<span id="cb1-2"><a href="regression-discontinuity-design.html#cb1-2" tabindex="-1"></a><span class="kw">set</span> <span class="kw">more</span> <span class="kw">off</span></span>
<span id="cb1-3"><a href="regression-discontinuity-design.html#cb1-3" tabindex="-1"></a><span class="kw">global</span> dt <span class="st">&quot;C:\Users\Dell\Desktop</span><span class="ch">\t</span><span class="st">est\data&quot;</span> </span></code></pre></div>
</div>
<div id="package-installation" class="section level4 unnumbered hasAnchor">
<h4><strong>Package Installation</strong><a href="regression-discontinuity-design.html#package-installation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To carry out the replication of this paper, the following packages must be installed:</p>
<div class="scroll-100">
<style type="text/css">
.scroll-100 {
  max-height: 1000px;
  font-size: 32px;
  max-width: 1000px;
  overflow-x: hidden;
  overflow-y: auto;
  overflow-wrap: break-word;
  background-color: blue;
}
</style>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb2-1"><a href="regression-discontinuity-design.html#cb2-1" tabindex="-1"></a><span class="kw">ssc</span> install missings <span class="co">//Provides tools and commands for working with missing data.</span></span>
<span id="cb2-2"><a href="regression-discontinuity-design.html#cb2-2" tabindex="-1"></a><span class="kw">ssc</span> install rdrobust <span class="co">// Provides tools and commands to execute a regression discontinuity design methodology.</span></span>
<span id="cb2-3"><a href="regression-discontinuity-design.html#cb2-3" tabindex="-1"></a><span class="kw">ssc</span> install ivreg2 <span class="co">// Extends Stata’s built-in instrumental variables (IV) estimation capabilities.</span></span>
<span id="cb2-4"><a href="regression-discontinuity-design.html#cb2-4" tabindex="-1"></a><span class="kw">ssc</span> install estout <span class="co">// Provides additional formatting and exporting options for regression results.</span></span>
<span id="cb2-5"><a href="regression-discontinuity-design.html#cb2-5" tabindex="-1"></a><span class="kw">ssc</span> install outreg2 <span class="co">// Provides additional options formatting regression results for output in tables.</span></span>
<span id="cb2-6"><a href="regression-discontinuity-design.html#cb2-6" tabindex="-1"></a><span class="kw">ssc</span> install ranktest <span class="co">// Provides additional tests for rank-related issues, such as rank correlation coefficients.</span></span></code></pre></div>
</div>
</div>
<div id="descriptive-statistics" class="section level3 hasAnchor" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> Descriptive Statistics<a href="regression-discontinuity-design.html#descriptive-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After setting the Stata environment, we can begin to explore the data characteristics through the computing of descriptive statistics to achieve the replication of Table 1.</p>
<p>The dataset provided for this replication exercise contains two samples:</p>
<p>The first sample, used to make the descriptive statistics, consists of a town panel by election year. Therefore, each observation corresponds to a town on an specific election year. To access it, either keep at the beginning only the observations for which the sample indicator is equal to 1 or state it as a condition at the end of every estimation code line. We suggest using the first option:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb3-1"><a href="regression-discontinuity-design.html#cb3-1" tabindex="-1"></a><span class="kw">keep</span> <span class="kw">if</span> Descrip_sample == 1</span></code></pre></div>
<p>The second sample, used to produce the main results and robustness tests for the paper, consists of a party dataset, where in each observation a party appears once per town and election year. To access it, either keep at the beginning only the observations for which the sample indicator is equal to 1 or state it as a condition at the end of every estimation code line. We suggest using the first option:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb4-1"><a href="regression-discontinuity-design.html#cb4-1" tabindex="-1"></a><span class="kw">keep</span> <span class="kw">if</span> Mainresults_sample == 1</span></code></pre></div>
<div id="table-1-descriptive-statistics" class="section level4 unnumbered hasAnchor">
<h4><strong>Table 1: Descriptive Statistics</strong><a href="regression-discontinuity-design.html#table-1-descriptive-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><img src="resources/CCR/table1.png" /></p>
<p>Now, in order to replicate each panel from Table 1. Descriptive Statistics we first open the dataset and, as stated before, keep only the observations needed for the replication of the descriptive statistics:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb5-1"><a href="regression-discontinuity-design.html#cb5-1" tabindex="-1"></a><span class="kw">use</span> <span class="st">&quot;$dt\Dataset\_CCR.dta&quot;</span>, <span class="kw">clear</span></span>
<span id="cb5-2"><a href="regression-discontinuity-design.html#cb5-2" tabindex="-1"></a><span class="kw">keep</span> <span class="kw">if</span> Descrip\_sample == 1</span></code></pre></div>
</div>
<div id="panel-a.-general-information" class="section level4 unnumbered hasAnchor">
<h4><strong>Panel A. General information</strong><a href="regression-discontinuity-design.html#panel-a.-general-information" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We now use the ”preserve” command to create a copy of the dataset in the Stata memory, so that any changes or modifications will only affect this temporary copy. This is done as subsequently the variable “election year” is dropped and the town duplicates too. This leaves us with a new dataset that corresponds to one observation per town and their respective population, surface and number of elections averages measures.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb6-1"><a href="regression-discontinuity-design.html#cb6-1" tabindex="-1"></a><span class="kw">preserve</span></span>
<span id="cb6-2"><a href="regression-discontinuity-design.html#cb6-2" tabindex="-1"></a><span class="kw">drop</span> election_year</span>
<span id="cb6-3"><a href="regression-discontinuity-design.html#cb6-3" tabindex="-1"></a><span class="kw">duplicates</span> <span class="kw">drop</span> id_towns, <span class="kw">force</span></span></code></pre></div>
<p>Now, we compute some summary statistics (mean, standard deviation, minimum, and maximum) using the “tabstat” command and store them in a matrix with the help of the “eststo: estpost” commands. After, we restore the dataset to its initial state before the “preserve” command was initialized.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb7-1"><a href="regression-discontinuity-design.html#cb7-1" tabindex="-1"></a>eststo <span class="kw">clear</span> <span class="co">//Clear any previously stored matrix</span></span>
<span id="cb7-2"><a href="regression-discontinuity-design.html#cb7-2" tabindex="-1"></a>eststo panelA: estpost <span class="kw">tabstat</span> population\_average surface number_elections, stat(<span class="kw">mean</span> <span class="fu">sd</span> <span class="fu">min</span> <span class="fu">max</span>) <span class="kw">columns</span>(<span class="kw">statistics</span>)</span>
<span id="cb7-3"><a href="regression-discontinuity-design.html#cb7-3" tabindex="-1"></a><span class="kw">restore</span></span></code></pre></div>
<p>Finally, we can replicate the table of Panel A of the Descriptive statistics table using the “esttab” command, which takes stored results from one or more estimation commands and formats them into a table.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb8-1"><a href="regression-discontinuity-design.html#cb8-1" tabindex="-1"></a>esttab panelA, cells((<span class="kw">mean</span>(fmt(%18.2fc)) <span class="fu">sd</span>(fmt(2)) <span class="fu">min</span>(fmt(1)) <span class="fu">max</span>(fmt(0)))) nomtitles nonum collabels(<span class="st">&quot;Mean&quot;</span> <span class="st">&quot;Std. dev.&quot;</span> <span class="st">&quot;Min&quot;</span> <span class="st">&quot;Max&quot;</span>) <span class="bn">title</span>(<span class="st">&quot;TABLE 1. DESCRIPTIVE STATISTICS&quot;</span>) refcat(population_average <span class="st">&quot;A. General information&quot;</span>, <span class="kw">nolabel</span>) obslast varwidth(35) <span class="kw">label</span> addnotes(Notes: <span class="st">&quot;Panel A provides descriptives at the municipal level for all municipalities that appear at least once in our sample.&quot;</span>)</span></code></pre></div>
<p><strong>Explanation of “esttab” syntaxis and options: cells</strong>: specifies which results to show. <strong>nomtitles</strong>: removes the variable names in the columns’ titles. <strong>nonum</strong>: removes the numbering rows from the columns. <strong>collabels</strong>: adds custom column labels. <strong>title</strong>: adds a title for the table. <strong>refcat</strong>: creates an additional line with descriptions above some certain variables /groups of variables. <strong>obslast</strong>: puts the number of observations last. <strong>varwidth</strong>: specifies the width of the variable names displayed in the table. <strong>label</strong>: shows labels instead of variable names. <strong>addnotes</strong>: adds footnotes to the table.</p>
<p>The same computation of the summary statistics, storage and tabulation process is repeated for the remaining panels.</p>
</div>
<div id="panel-b.-municipal-elections-and-local-government" class="section level4 unnumbered hasAnchor">
<h4><strong>Panel B. Municipal Elections and Local Government</strong><a href="regression-discontinuity-design.html#panel-b.-municipal-elections-and-local-government" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb9-1"><a href="regression-discontinuity-design.html#cb9-1" tabindex="-1"></a>eststo panelB: estpost <span class="kw">tabstat</span> nparties nparties\_seats seats_total mocion_5_100 abs_majority PP_mayor PSOE_mayor IU_mayor CIU_mayor , stat(<span class="kw">mean</span> <span class="fu">sd</span> <span class="fu">min</span> <span class="fu">max</span>) <span class="kw">columns</span>(<span class="kw">statistics</span>)</span>
<span id="cb9-2"><a href="regression-discontinuity-design.html#cb9-2" tabindex="-1"></a></span>
<span id="cb9-3"><a href="regression-discontinuity-design.html#cb9-3" tabindex="-1"></a>esttab panelB, cells((<span class="kw">mean</span>(fmt(%18.2fc)) <span class="fu">sd</span>(fmt(2)) <span class="fu">min</span>(fmt(1)) <span class="fu">max</span>(fmt(0)) )) nomtitles nonum collabels(<span class="st">&quot;Mean&quot;</span> <span class="st">&quot;Std. dev.&quot;</span> <span class="st">&quot;Min&quot;</span> <span class="st">&quot;Max&quot;</span>) refcat(nparties <span class="st">&quot;B. Municipal Elections and Local Government&quot;</span>, <span class="kw">nolabel</span>) obslast varwidth(35) <span class="kw">label</span> addnotes(Notes: <span class="st">&quot;Panel B provides descriptives on electoral outcomes at the municipality-council level.&quot;</span>)</span></code></pre></div>
</div>
<div id="panel-c.1---local-government---stable-mayor" class="section level4 unnumbered hasAnchor">
<h4><strong>Panel C.1 - Local Government - Stable Mayor</strong><a href="regression-discontinuity-design.html#panel-c.1---local-government---stable-mayor" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb10-1"><a href="regression-discontinuity-design.html#cb10-1" tabindex="-1"></a>eststo panelC1: estpost <span class="kw">tabstat</span> <span class="fu">abs</span>\majority nparties\seats <span class="kw">if</span> mocion\5==0, stat(<span class="kw">mean</span> <span class="fu">sd</span> <span class="fu">min</span> <span class="fu">max</span>) <span class="kw">columns</span>(<span class="kw">statistics</span>)</span>
<span id="cb10-2"><a href="regression-discontinuity-design.html#cb10-2" tabindex="-1"></a></span>
<span id="cb10-3"><a href="regression-discontinuity-design.html#cb10-3" tabindex="-1"></a>esttab panelC1, cells((<span class="kw">mean</span>(fmt(%18.2fc)) <span class="fu">sd</span>(fmt(2)) <span class="fu">min</span>(fmt(1)) <span class="fu">max</span>(fmt(0)) )) nomtitles nonum collabels(<span class="st">&quot;Mean&quot;</span> <span class="st">&quot;Std. dev.&quot;</span> <span class="st">&quot;Min&quot;</span> <span class="st">&quot;Max&quot;</span>) refcat(<span class="fu">abs</span>\majority <span class="st">&quot;C1. Local Government - Stable Mayor&quot;</span>, <span class="kw">nolabel</span>) obslast varwidth(35) <span class="kw">label</span> addnotes(Notes: <span class="st">&quot;Panel C splits this sample into councils that approved at least one vote of no confidence during the term (C2), and those that did not(C1)&quot;</span>)</span></code></pre></div>
</div>
<div id="panel-c.2---local-government---vote-of-no-confidence" class="section level4 unnumbered hasAnchor">
<h4><strong>Panel C.2 - Local Government - Vote of No Confidence</strong><a href="regression-discontinuity-design.html#panel-c.2---local-government---vote-of-no-confidence" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb11-1"><a href="regression-discontinuity-design.html#cb11-1" tabindex="-1"></a>eststo panelC2: estpost <span class="kw">tabstat</span> <span class="fu">abs</span>\majority nparties\seats <span class="kw">if</span> mocion\5==1, stat(<span class="kw">mean</span> <span class="fu">sd</span> <span class="fu">min</span> <span class="fu">max</span>) <span class="kw">columns</span>(<span class="kw">statistics</span>)</span>
<span id="cb11-2"><a href="regression-discontinuity-design.html#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="regression-discontinuity-design.html#cb11-3" tabindex="-1"></a>esttab panelC2, cells((<span class="kw">mean</span>(fmt(%18.2fc)) <span class="fu">sd</span>(fmt(2)) <span class="fu">min</span>(fmt(1)) <span class="fu">max</span>(fmt(0)) )) nomtitles nonum collabels(<span class="st">&quot;Mean&quot;</span> <span class="st">&quot;Std. dev.&quot;</span> <span class="st">&quot;Min&quot;</span> <span class="st">&quot;Max&quot;</span>) refcat(<span class="fu">abs</span>\majority <span class="st">&quot;C2. Local Government - Vote of No Confidence&quot;</span>, <span class="kw">nolabel</span>) obslast varwidth(35) <span class="kw">label</span> addnotes(Notes: <span class="st">&quot;Panel C splits this sample into councils that approved at least one vote of no confidence during the term (C2), and those that did not (C1)&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="empirical-strategy" class="section level3 hasAnchor" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> Empirical Strategy<a href="regression-discontinuity-design.html#empirical-strategy" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After having carried out the descriptive statistics analysis, in this section we dive into the empirical strategy of the research paper. First, we describe the model specification, then we provide explanations on how to plot RDD graphs and, finally, we address how to perform the first stage.</p>
<p>The paper employs the following main specification:</p>
<p><span class="math display">\[\begin{equation}
\tag{1}
Y_{it} = α_{1} + τ_{1}N_{it} + β_{1}V_{pit} + β_{2}V_{pit}D_{pit} + π_{it}
\end{equation}\]</span></p>
<p><i>Y<sub>it</sub></i> an indicator equal to 1 if the mayor of municipality <i>i</i> is unseated and replaced by a new mayor during term <i>t</i> – to the measure of fragmentation. This corresponds to the variable “mocion 5” in the dataset.</p>
<p><i>N<sub>it</sub></i> the number of parties with seats in the council. This corresponds to the variable “nparties seats” in the dataset.</p>
<p><i>V<sub>pit</sub></i> the running variable, representing the difference between the vote-share of each party <i>p</i> and 5% in each municipality <i>i</i> and for each term <i>t</i>. This corresponds to the variable “rv” in the dataset.</p>
<p>The number of parties <em>N</em> is instrumented with an indicator <em>D</em> equal 1 for a party being above the 5% threshold. This corresponds to the variable “d” in the dataset.</p>
<p>First stage estimation:</p>
<p><span class="math display">\[\begin{equation}
\tag{2}
N_{it} = α_{0} + γ_{1}D_{pit} + δ_{1}V_{pit} + δ_{2}V_{pit}D_{pit} + u_{pit}
\end{equation}\]</span></p>
<p>Figure 1 shows both the first stage and the reduced form graphs. These figures are relevant on RDD analysis, since they provide a visual representation of the existence of a discontinuity at the threshold.</p>
<div id="figure-1-the-effect-of-fragmentation-on-instability---first-stage-and-reduced-form-rd-graph" class="section level4 unnumbered hasAnchor">
<h4><strong>Figure 1: The effect of fragmentation on instability - first stage and reduced form (RD graph)</strong><a href="regression-discontinuity-design.html#figure-1-the-effect-of-fragmentation-on-instability---first-stage-and-reduced-form-rd-graph" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><img src="resources/CCR/GraphN.jpg" /></p>
<p><img src="resources/CCR/Graph_P.jpg" /></p>
<p>In order to replicate these graphs, the mains results and the robustness checks, first we are going to keep only the observations needed.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb12-1"><a href="regression-discontinuity-design.html#cb12-1" tabindex="-1"></a><span class="kw">use</span> <span class="st">&quot;$dt\Dataset\_CCR.dta&quot;</span>, <span class="kw">clear</span></span>
<span id="cb12-2"><a href="regression-discontinuity-design.html#cb12-2" tabindex="-1"></a><span class="kw">keep</span> <span class="kw">if</span> Mainresults\_sample == 1</span></code></pre></div>
</div>
<div id="figure-1-top-panel" class="section level4 unnumbered hasAnchor">
<h4><strong>Figure 1: Top Panel</strong><a href="regression-discontinuity-design.html#figure-1-top-panel" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Since this is a fuzzy design, the first panel plots the running variable against the variable that it will instrument. In this case, the running variable against the number of party seats in council. In order to do an RDD plot, it is necessary to establish a bandwidth (to take into account only observations close to the threshold) and if there are many, sort the observations into bins to make them easier to plot.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb13-1"><a href="regression-discontinuity-design.html#cb13-1" tabindex="-1"></a><span class="kw">preserve</span></span>
<span id="cb13-2"><a href="regression-discontinuity-design.html#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="regression-discontinuity-design.html#cb13-3" tabindex="-1"></a>  <span class="kw">local</span> increment = 0.0025 <span class="co">// This is done to create the bins of the running variable, which refer to intervals in which the data is grouped or divided.</span></span>
<span id="cb13-4"><a href="regression-discontinuity-design.html#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="regression-discontinuity-design.html#cb13-5" tabindex="-1"></a>  <span class="kw">egen</span> rv_bin = <span class="fu">cut</span>(rv), <span class="fu">at</span>(-0.025(‘increment’)0.025) <span class="co">//Create a new variable rv_bin that categorizes the variable rv into bins based on the specified range and increment</span></span>
<span id="cb13-6"><a href="regression-discontinuity-design.html#cb13-6" tabindex="-1"></a></span>
<span id="cb13-7"><a href="regression-discontinuity-design.html#cb13-7" tabindex="-1"></a>  <span class="kw">egen</span> nparties_mean=<span class="kw">mean</span>(nparties_seats) <span class="kw">if</span> nparties_seats != ., <span class="kw">by</span>(rv_bin) <span class="co">//Generate x-axis points as the average within the bin</span></span>
<span id="cb13-8"><a href="regression-discontinuity-design.html#cb13-8" tabindex="-1"></a></span>
<span id="cb13-9"><a href="regression-discontinuity-design.html#cb13-9" tabindex="-1"></a>  <span class="kw">replace</span> rv_bin = rv_bin+‘increment’/2 <span class="co">//Center bins in the midpoint instead of left-end</span></span></code></pre></div>
</div>
<div id="plotting-the-first-stage-graph" class="section level4 unnumbered hasAnchor">
<h4><strong>Plotting the First Stage Graph</strong><a href="regression-discontinuity-design.html#plotting-the-first-stage-graph" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now we create a two-way graph with linear fit confidence intervals (lfitci) and scatter points (scatter)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb14-1"><a href="regression-discontinuity-design.html#cb14-1" tabindex="-1"></a><span class="kw">twoway</span> (lfitci nparties_seats rv <span class="kw">if</span> rv&lt;=0 &amp; rv&gt;=-0.025, lwidth(thick) fintensity(inten80) lcolor(gs6) alcolor(<span class="kw">none</span>) acolor(gs12\*0.1) fcolor(gs14) alp(<span class="kw">dash</span>) ) <span class="co">///</span></span>
<span id="cb14-2"><a href="regression-discontinuity-design.html#cb14-2" tabindex="-1"></a>  (lfitci nparties_seats rv <span class="kw">if</span> rv&gt;0 &amp; rv&lt;=0.025 , lwidth(thick) fintensity(inten80) lcolor(gs6) alcolor(<span class="kw">none</span>) acolor(gs12\*0.1) fcolor(gs14) alp(<span class="kw">dash</span>)) <span class="co">///</span></span>
<span id="cb14-3"><a href="regression-discontinuity-design.html#cb14-3" tabindex="-1"></a>  (<span class="kw">scatter</span> nparties\_mean rv_bin, <span class="bn">msymbol</span>(O) mlcolor(gs11) mfcolor(gs15) msize(medlarge ) <span class="kw">xlabel</span>(-.025(.025).025, <span class="bn">labsize</span>(large))) <span class="co">///</span></span>
<span id="cb14-4"><a href="regression-discontinuity-design.html#cb14-4" tabindex="-1"></a>  (scatteri 3 0 4 0, <span class="kw">recast</span>(<span class="kw">line</span>) ) <span class="co">///</span></span>
<span id="cb14-5"><a href="regression-discontinuity-design.html#cb14-5" tabindex="-1"></a>  , <span class="kw">ylabel</span>(3(.5)4, <span class="bn">labsize</span>(large)) <span class="bn">ytitle</span>(<span class="kw">N</span>. <span class="kw">of</span> parties, <span class="kw">size</span>(large)) <span class="bn">xtitle</span>(Distance to threshold, <span class="kw">size</span>(large)) <span class="bn">legend</span>(<span class="kw">off</span>)</span>
<span id="cb14-6"><a href="regression-discontinuity-design.html#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="regression-discontinuity-design.html#cb14-7" tabindex="-1"></a><span class="kw">graph</span> <span class="kw">export</span> <span class="st">&quot;$dt/First\_stage\_025\_linear.png&quot;</span>, <span class="kw">replace</span></span>
<span id="cb14-8"><a href="regression-discontinuity-design.html#cb14-8" tabindex="-1"></a><span class="kw">restore</span></span></code></pre></div>
<p><strong>Explanation of twoway syntaxis and options</strong>: <strong>lwidth(thick)</strong>: specifies the line width as thick. <strong>intensity(inten80)</strong>: sets the intensity of the confidence interval to 80%. <strong>lcolor(gs6)</strong>: sets the line color to grayscale code 6. <strong>alcolor(none)</strong>: specifies no color for the area under the line. <strong>acolor(gs12*0.1)</strong>: sets the color of the confidence interval area to grayscale code 12 with 10% opacity. <strong>fcolor(gs14)</strong>: sets the color of the fit line to grayscale code 14. <strong>alp(dash)</strong>: specifies a dashed line for the fit. <strong>msymbol(O)</strong>: specifies circular markers for the scatter plot. <strong>mlcolor(gs11)</strong>: sets the line color of the markers to grayscale code 11. <strong>mfcolor(gs15)</strong>: sets the fill color of the markers to grayscale code 15. <strong>msize(medlarge)</strong>: sets the marker size to mediumlarge. <strong>xlabel(-.025(.025).025, labsize(large))</strong>: specifies custom x-axis labels. <strong>scatteri 3 0 4 0</strong> specifies a vertical line segment between the points (0, 3) and (0, 4). <strong>recast(line)</strong>: instructs Stata to recast the scatter plot as a line plot. <strong>graph export</strong>: exports the graph in a specified folder and designated format.</p>
</div>
<div id="figure-1-bottom-panel" class="section level4 unnumbered hasAnchor">
<h4><strong>Figure 1: Bottom Panel</strong><a href="regression-discontinuity-design.html#figure-1-bottom-panel" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For the second stage we repeat the same but for the reduced form, plotting directly the Probability of No confidence Votes against the the running variable (Distance to threshold).</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb15-1"><a href="regression-discontinuity-design.html#cb15-1" tabindex="-1"></a><span class="kw">preserve</span></span>
<span id="cb15-2"><a href="regression-discontinuity-design.html#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="regression-discontinuity-design.html#cb15-3" tabindex="-1"></a><span class="kw">local</span> increment = 0.0025</span>
<span id="cb15-4"><a href="regression-discontinuity-design.html#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="regression-discontinuity-design.html#cb15-5" tabindex="-1"></a><span class="kw">egen</span> rv_bin = <span class="fu">cut</span>(rv), <span class="fu">at</span>(-0.025(‘increment’)0.025)</span>
<span id="cb15-6"><a href="regression-discontinuity-design.html#cb15-6" tabindex="-1"></a><span class="kw">egen</span> mocion_mean=<span class="kw">mean</span>(mocion_5) <span class="kw">if</span> mocion_5 != ., <span class="kw">by</span>(rv_bin)</span>
<span id="cb15-7"><a href="regression-discontinuity-design.html#cb15-7" tabindex="-1"></a></span>
<span id="cb15-8"><a href="regression-discontinuity-design.html#cb15-8" tabindex="-1"></a><span class="kw">replace</span> rv_bin = rv_bin+‘increment’/2</span>
<span id="cb15-9"><a href="regression-discontinuity-design.html#cb15-9" tabindex="-1"></a></span>
<span id="cb15-10"><a href="regression-discontinuity-design.html#cb15-10" tabindex="-1"></a><span class="co">// Reduced form graph</span></span>
<span id="cb15-11"><a href="regression-discontinuity-design.html#cb15-11" tabindex="-1"></a><span class="kw">twoway</span> <span class="co">///</span></span>
<span id="cb15-12"><a href="regression-discontinuity-design.html#cb15-12" tabindex="-1"></a>  (lfitci mocion_5 rv <span class="kw">if</span> rv&lt;=0 &amp; rv&gt;=-0.025, lwidth(thick) fintensity(inten80) lcolor(gs6) alcolor(<span class="kw">none</span>) acolor(gs12\*0.1) fcolor(gs14) alp(<span class="kw">dash</span>) ) <span class="co">///</span></span>
<span id="cb15-13"><a href="regression-discontinuity-design.html#cb15-13" tabindex="-1"></a>  (lfitci mocion_5 rv <span class="kw">if</span> rv&gt;0 &amp; rv&lt;=0.025 , lwidth(thick) fintensity(inten80) lcolor(gs6) alcolor(<span class="kw">none</span>) acolor(gs12\*0.1) fcolor(gs14) alp(<span class="kw">dash</span>)) <span class="co">///</span></span>
<span id="cb15-14"><a href="regression-discontinuity-design.html#cb15-14" tabindex="-1"></a>  (<span class="kw">scatter</span> mocion\_mean rv\_bin, <span class="bn">msymbol</span>(O) mlcolor(gs11) mfcolor(gs15) msize(medlarge ) <span class="kw">xlabel</span>(-.025(.025).025, <span class="bn">labsize</span>(large))) <span class="co">///</span></span>
<span id="cb15-15"><a href="regression-discontinuity-design.html#cb15-15" tabindex="-1"></a>  (scatteri 0 0 0.06 0, <span class="kw">recast</span>(<span class="kw">line</span>) ) <span class="co">///</span></span>
<span id="cb15-16"><a href="regression-discontinuity-design.html#cb15-16" tabindex="-1"></a>  , <span class="kw">ylabel</span>(0(.02).06, <span class="bn">labsize</span>(large)) <span class="bn">ytitle</span>(P(No-confidence vote), <span class="kw">size</span>(large)) <span class="bn">xtitle</span>(Distance to threshold, <span class="kw">size</span>(large)) <span class="bn">legend</span>(<span class="kw">off</span>)</span>
<span id="cb15-17"><a href="regression-discontinuity-design.html#cb15-17" tabindex="-1"></a></span>
<span id="cb15-18"><a href="regression-discontinuity-design.html#cb15-18" tabindex="-1"></a><span class="kw">graph</span> <span class="kw">export</span> <span class="st">&quot;$dt/RF\_mocion\_025\_linear.png&quot;</span>, <span class="kw">replace</span></span>
<span id="cb15-19"><a href="regression-discontinuity-design.html#cb15-19" tabindex="-1"></a><span class="kw">restore</span></span></code></pre></div>
</div>
</div>
<div id="main-results" class="section level3 hasAnchor" number="2.1.6">
<h3><span class="header-section-number">2.1.6</span> Main Results<a href="regression-discontinuity-design.html#main-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, we address how to perform the 2SLS estimation present the results on tables. Table 2 reports the estimates of the reduced-form and second-stage coefficients, respectively in Panel A and Panel B.</p>
<div id="table-2.-panel-a-rf-and-2sls-estimates---pno-confidence-vote" class="section level4 unnumbered hasAnchor">
<h4><strong>Table 2. Panel A: RF and 2SLS estimates - P(no confidence vote)</strong><a href="regression-discontinuity-design.html#table-2.-panel-a-rf-and-2sls-estimates---pno-confidence-vote" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><img src="resources/CCR/table2A.png" /></p>
<p>To run only this part, import the dataset again and keep only the observations from the Main Results sample:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb16-1"><a href="regression-discontinuity-design.html#cb16-1" tabindex="-1"></a><span class="kw">use</span> <span class="st">&quot;$dt\Dataset\_CCR.dta&quot;</span>, <span class="kw">clear</span></span>
<span id="cb16-2"><a href="regression-discontinuity-design.html#cb16-2" tabindex="-1"></a><span class="kw">keep</span> <span class="kw">if</span> Mainresults\_sample == 1</span></code></pre></div>
<p>Then, create globals for the regression to be able to easily add as controls the surface and population (in logs) of the municipality, include election year and council seat fixed effects, and include the running variable “rv” and its interaction with the indicator D “rv d”.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb17-1"><a href="regression-discontinuity-design.html#cb17-1" tabindex="-1"></a><span class="kw">global</span> weights\_on = 1</span>
<span id="cb17-2"><a href="regression-discontinuity-design.html#cb17-2" tabindex="-1"></a><span class="kw">global</span> controls <span class="st">&quot;log\_pop log\_surface&quot;</span></span>
<span id="cb17-3"><a href="regression-discontinuity-design.html#cb17-3" tabindex="-1"></a><span class="kw">global</span> fixed\_effects <span class="st">&quot;i.election\_year i.seats\_total&quot;</span></span>
<span id="cb17-4"><a href="regression-discontinuity-design.html#cb17-4" tabindex="-1"></a><span class="kw">global</span> rv <span class="st">&quot;rv rv\_d&quot;</span></span></code></pre></div>
<p>Additionally, if we want to run the regression with each observation weighted by the inverse of the number of parties running in the election, as the authors of the paper do, we store the global $weights_on = 1. If this is the case, the next command lines sorts the data by town and the election year and generates a new variable which counts the number of observations within each combination of id_town and election_year, and then creates the weights.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb18-1"><a href="regression-discontinuity-design.html#cb18-1" tabindex="-1"></a><span class="kw">if</span> <span class="ot">$weights_on</span> == 1 {</span>
<span id="cb18-2"><a href="regression-discontinuity-design.html#cb18-2" tabindex="-1"></a>  <span class="kw">bys</span> id_towns election_year: <span class="kw">gen</span> <span class="fu">count</span> = _N</span>
<span id="cb18-3"><a href="regression-discontinuity-design.html#cb18-3" tabindex="-1"></a>  g weights = 1/nparties</span>
<span id="cb18-4"><a href="regression-discontinuity-design.html#cb18-4" tabindex="-1"></a>  <span class="kw">global</span> weights_bw <span class="st">&quot;weights(weights)&quot;</span></span>
<span id="cb18-5"><a href="regression-discontinuity-design.html#cb18-5" tabindex="-1"></a>  <span class="kw">global</span> weights_reg <span class="st">&quot;[aw = weights]&quot;</span></span>
<span id="cb18-6"><a href="regression-discontinuity-design.html#cb18-6" tabindex="-1"></a> }</span>
<span id="cb18-7"><a href="regression-discontinuity-design.html#cb18-7" tabindex="-1"></a><span class="kw">if</span> <span class="ot">$weights_on</span> == 0 {</span>
<span id="cb18-8"><a href="regression-discontinuity-design.html#cb18-8" tabindex="-1"></a>  <span class="kw">global</span> weights_bw <span class="st">&quot;&quot;</span></span>
<span id="cb18-9"><a href="regression-discontinuity-design.html#cb18-9" tabindex="-1"></a>  <span class="kw">global</span> weights_reg <span class="st">&quot;&quot;</span></span>
<span id="cb18-10"><a href="regression-discontinuity-design.html#cb18-10" tabindex="-1"></a> }</span></code></pre></div>
</div>
<div id="panel-a-reduced-form-results" class="section level4 unnumbered hasAnchor">
<h4><strong>Panel A: Reduced-Form results</strong><a href="regression-discontinuity-design.html#panel-a-reduced-form-results" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Before running the regressions, it is important to establish a bandwidth, which will restrict the sample used based on the distance of the observations to the threshold. We use the command “rdbwselect” for bandwidth selection using the robust regression discontinuity design methods. The option <strong>c(0)</strong>: indicates that the running variable has a discontinuity at zero; <strong>p(1)</strong>: specifies the order of the polynomial used in the local polynomial regression; <strong>fuzzy()</strong>: indicates the fuzzy regression discontinuity design and specifies the variable to be used as the fuzzy instrument; <strong>vce()</strong>: specifies that the standard errors should be clustered at the level specified; <strong>masspoints(off)</strong>: specifies that mass points are turned off in the estimation; <strong>covs(</strong>$<strong>controls)</strong>: indicates that additional covariates should be included in the regression.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb19-1"><a href="regression-discontinuity-design.html#cb19-1" tabindex="-1"></a>eststo <span class="kw">clear</span></span>
<span id="cb19-2"><a href="regression-discontinuity-design.html#cb19-2" tabindex="-1"></a>rdbwselect mocion_5 rv, c(0) <span class="kw">p</span>(1) fuzzy(nparties_seats) <span class="kw">vce</span>(clusterid_towns) kernel(uni) <span class="ot">$weights_bwmasspoints</span>(<span class="kw">off</span>) covs(<span class="ot">$controls</span>)</span>
<span id="cb19-3"><a href="regression-discontinuity-design.html#cb19-3" tabindex="-1"></a><span class="kw">local</span> CCT_bw_l = <span class="fu">e</span>(h_mserd) <span class="co">// stores the value of the estimated badnwidth</span></span></code></pre></div>
<p>Now, we run each regression of our outcome variable on the running variable, the indicator and their interaction, restricting the analysis to the observations where the absolute value of the running variable is less than the bandwidth that was previously computed and stored in “CCT bw l”.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb20-1"><a href="regression-discontinuity-design.html#cb20-1" tabindex="-1"></a><span class="co">//Simple regression.</span></span>
<span id="cb20-2"><a href="regression-discontinuity-design.html#cb20-2" tabindex="-1"></a>eststo: <span class="kw">reg</span> mocion_5 <span class="ot">$rv</span> <span class="kw">d</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb20-3"><a href="regression-discontinuity-design.html#cb20-3" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span></code></pre></div>
<p>Additionally, <strong>“estadd scalar”</strong> is used to add a scalar to the estimation results, and it is assigned the value of the previously calculated and stored bandwidth. Then an scalar is also added with the value of the mean of the variable mocion 5.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb21-1"><a href="regression-discontinuity-design.html#cb21-1" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb21-2"><a href="regression-discontinuity-design.html#cb21-2" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span></code></pre></div>
<p>The addition of controls and fixed effects results in the different columns of the main results, which are stored in a matrix using the “eststo” command.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb22-1"><a href="regression-discontinuity-design.html#cb22-1" tabindex="-1"></a><span class="co">//For this column, we include controls, but not fixed effects.</span></span>
<span id="cb22-2"><a href="regression-discontinuity-design.html#cb22-2" tabindex="-1"></a>eststo: <span class="kw">reg</span> mocion_5 <span class="ot">$rv</span> <span class="kw">d</span> <span class="ot">$controls</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb22-3"><a href="regression-discontinuity-design.html#cb22-3" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span>
<span id="cb22-4"><a href="regression-discontinuity-design.html#cb22-4" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb22-5"><a href="regression-discontinuity-design.html#cb22-5" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span>
<span id="cb22-6"><a href="regression-discontinuity-design.html#cb22-6" tabindex="-1"></a></span>
<span id="cb22-7"><a href="regression-discontinuity-design.html#cb22-7" tabindex="-1"></a><span class="co">//For this column, we include fixed effects, but not controls.</span></span>
<span id="cb22-8"><a href="regression-discontinuity-design.html#cb22-8" tabindex="-1"></a>eststo: <span class="kw">reg</span> mocion_5 <span class="ot">$rv</span> <span class="kw">d</span> <span class="ot">$fixed_effects</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb22-9"><a href="regression-discontinuity-design.html#cb22-9" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span>
<span id="cb22-10"><a href="regression-discontinuity-design.html#cb22-10" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb22-11"><a href="regression-discontinuity-design.html#cb22-11" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span>
<span id="cb22-12"><a href="regression-discontinuity-design.html#cb22-12" tabindex="-1"></a></span>
<span id="cb22-13"><a href="regression-discontinuity-design.html#cb22-13" tabindex="-1"></a><span class="co">//For this column, we include both controls and fixed effects.</span></span>
<span id="cb22-14"><a href="regression-discontinuity-design.html#cb22-14" tabindex="-1"></a>eststo: <span class="kw">reg</span> mocion_5 <span class="ot">$rv</span> <span class="kw">d</span> <span class="ot">$controls</span> <span class="ot">$fixed_effects</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb22-15"><a href="regression-discontinuity-design.html#cb22-15" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span>
<span id="cb22-16"><a href="regression-discontinuity-design.html#cb22-16" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb22-17"><a href="regression-discontinuity-design.html#cb22-17" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span></code></pre></div>
<p>We create the first part of the table with the main results using “esttab” (see pag.7)</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb23-1"><a href="regression-discontinuity-design.html#cb23-1" tabindex="-1"></a>Reduced-form results<span class="st">&quot;, nolabel) s(vmean band N, label(&quot;</span>Mean <span class="kw">of</span> dep.<span class="kw">var</span>.<span class="st">&quot; &quot;</span>Bandwidth<span class="st">&quot; &quot;</span>Obs.<span class="st">&quot; ) fmt(3 3 0)) coeflabels(d &quot;</span>Above threshold<span class="st">&quot;) varwidth(35) title(&quot;</span>Table 2. Reduced-form and 2SLS Estimates - Fragmentation and Stability<span class="st">&quot;) mtitles(&quot;</span>Mayor uns.<span class="st">&quot; &quot;</span>Mayor uns.<span class="st">&quot; &quot;</span>Mayors uns.<span class="st">&quot; &quot;</span>Mayor uns.<span class="st">&quot;)</span></span></code></pre></div>
<p><strong>Explanation of the esttab syntax</strong>: <strong>se(3)</strong>: displays standard errors instead of t-statistics with 3 decimal points. <strong>nolabel</strong>: to not use labels instead of variables names. <strong>b</strong>: displays point estimates. <strong>sfmt()</strong>: sets format(s) for scalars. <strong>keep</strong>: keep individual coefficients. <strong>nostar</strong>: suppress stars in the table footer. <strong>nonotes</strong>: suppress notes in the table footer. <strong>s</strong>: specifies the statistics or summary measures you want to include in the output.</p>
</div>
<div id="table-2.-panel-b-2sls-results---fragmentation-and-stability" class="section level4 unnumbered hasAnchor">
<h4><strong>Table 2. Panel B: 2SLS results - Fragmentation and Stability</strong><a href="regression-discontinuity-design.html#table-2.-panel-b-2sls-results---fragmentation-and-stability" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><img src="resources/CCR/table2B.png" /></p>
<p>Notes: Reduced-form and 2SLS estimates of the effect of the number of parties on the probability of unseating the mayor (equation 2). Sample restricted to elections in which the largest party receives less than 40 percent of valid votes. The dependent variable is an indicator taking value 1 if the mayor was unseated by a vote of no confidence during the legislature. Controls and FE are included as indicated in each column. Controls: surface and population (in logs). FE: number of available seats and election year fixed effects. The optimal bandwidth is calculated using the CCT method. Standard errors are clustered at the municipality level.</p>
<p>Now, we replicate the different columns of Panel B, this time using an instrumental variable. As in Panel A, the bandwidth selection is done first with the “rdbwselect” command:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb24-1"><a href="regression-discontinuity-design.html#cb24-1" tabindex="-1"></a>eststo <span class="kw">clear</span></span>
<span id="cb24-2"><a href="regression-discontinuity-design.html#cb24-2" tabindex="-1"></a>rdbwselect mocion_5 rv, c(0) <span class="kw">p</span>(1) fuzzy(nparties_seats) <span class="kw">vce</span>(<span class="kw">cluster</span> id_towns) kernel(uni) <span class="ot">$weights_bw</span> masspoints(<span class="kw">off</span>) covs(<span class="ot">$controls</span>)</span>
<span id="cb24-3"><a href="regression-discontinuity-design.html#cb24-3" tabindex="-1"></a><span class="kw">local</span> CCT_bw_l = <span class="fu">e</span>(h_mserd)</span></code></pre></div>
<p>Then, we estimate the second stage of the main specification with the help of the command “ivreg”. The instrument “d” for number of party seats in council is then specified in parenthesis (nparties seats = d). The estimation is also conditional on the running variable’s absolute value being less than the bandwidth that was previously computed and stored in “CCT bw l”.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb25-1"><a href="regression-discontinuity-design.html#cb25-1" tabindex="-1"></a><span class="co">//Simple regression.</span></span>
<span id="cb25-2"><a href="regression-discontinuity-design.html#cb25-2" tabindex="-1"></a>eststo: ivreg2 mocion_5 <span class="ot">$rv</span> (nparties_seats = <span class="kw">d</span>) <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb25-3"><a href="regression-discontinuity-design.html#cb25-3" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span>
<span id="cb25-4"><a href="regression-discontinuity-design.html#cb25-4" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb25-5"><a href="regression-discontinuity-design.html#cb25-5" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span></code></pre></div>
<p>Additional to the scalars with the bandwidth and the mean of the dependant variable, we use <strong>“estadd local”</strong> to add a local macro labeled as FE and controls with the sign “N” or “Y” to the estimation results. This to add to the output table to indicate whether that estimation contained Fixed Effects and/or controls.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb26-1"><a href="regression-discontinuity-design.html#cb26-1" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> FE <span class="st">&quot;N&quot;</span></span>
<span id="cb26-2"><a href="regression-discontinuity-design.html#cb26-2" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> controls <span class="st">&quot;N&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb27-1"><a href="regression-discontinuity-design.html#cb27-1" tabindex="-1"></a><span class="co">//For this column, we include controls, but not fixed effects.</span></span>
<span id="cb27-2"><a href="regression-discontinuity-design.html#cb27-2" tabindex="-1"></a>eststo: ivreg2 mocion_5 <span class="ot">$rv</span> (nparties_seats = <span class="kw">d</span>) <span class="ot">$controls</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb27-3"><a href="regression-discontinuity-design.html#cb27-3" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span>
<span id="cb27-4"><a href="regression-discontinuity-design.html#cb27-4" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb27-5"><a href="regression-discontinuity-design.html#cb27-5" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span>
<span id="cb27-6"><a href="regression-discontinuity-design.html#cb27-6" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> FE <span class="st">&quot;N&quot;</span></span>
<span id="cb27-7"><a href="regression-discontinuity-design.html#cb27-7" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> controls <span class="st">&quot;Y&quot;</span></span>
<span id="cb27-8"><a href="regression-discontinuity-design.html#cb27-8" tabindex="-1"></a></span>
<span id="cb27-9"><a href="regression-discontinuity-design.html#cb27-9" tabindex="-1"></a><span class="co">//For this column, we include fixed effects, but not controls.</span></span>
<span id="cb27-10"><a href="regression-discontinuity-design.html#cb27-10" tabindex="-1"></a>eststo: ivreg2 mocion_5 <span class="ot">$rv</span> (nparties_seats = <span class="kw">d</span>) <span class="ot">$fixed_effects</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns) partial(<span class="ot">$fixed_effects</span>)</span>
<span id="cb27-11"><a href="regression-discontinuity-design.html#cb27-11" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span>
<span id="cb27-12"><a href="regression-discontinuity-design.html#cb27-12" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb27-13"><a href="regression-discontinuity-design.html#cb27-13" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span>
<span id="cb27-14"><a href="regression-discontinuity-design.html#cb27-14" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> FE <span class="st">&quot;Y&quot;</span></span>
<span id="cb27-15"><a href="regression-discontinuity-design.html#cb27-15" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> controls <span class="st">&quot;N&quot;</span></span>
<span id="cb27-16"><a href="regression-discontinuity-design.html#cb27-16" tabindex="-1"></a></span>
<span id="cb27-17"><a href="regression-discontinuity-design.html#cb27-17" tabindex="-1"></a><span class="co">//For this column, we include both controls and fixed effects.</span></span>
<span id="cb27-18"><a href="regression-discontinuity-design.html#cb27-18" tabindex="-1"></a>eststo: ivreg2 mocion_5 <span class="ot">$rv</span> (nparties_seats = <span class="kw">d</span>) <span class="ot">$controls</span> <span class="ot">$fixed_effects</span>&lt;/<span class="kw">p</span>&gt;&lt;<span class="kw">p</span>&gt;<span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns) partial(<span class="ot">$fixed_effects</span>)</span>
<span id="cb27-19"><a href="regression-discontinuity-design.html#cb27-19" tabindex="-1"></a>estadd <span class="fu">scalar</span> band = ‘CCT_bw_l’</span>
<span id="cb27-20"><a href="regression-discontinuity-design.html#cb27-20" tabindex="-1"></a>summ mocion_5 <span class="kw">if</span> <span class="fu">e</span>(<span class="kw">sample</span>), <span class="kw">mean</span></span>
<span id="cb27-21"><a href="regression-discontinuity-design.html#cb27-21" tabindex="-1"></a>estadd <span class="fu">scalar</span> vmean = <span class="fu">r</span>(<span class="kw">mean</span>)</span>
<span id="cb27-22"><a href="regression-discontinuity-design.html#cb27-22" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> FE <span class="st">&quot;Y&quot;</span></span>
<span id="cb27-23"><a href="regression-discontinuity-design.html#cb27-23" tabindex="-1"></a><span class="kw">quietly</span> estadd <span class="kw">local</span> controls <span class="st">&quot;Y&quot;</span></span></code></pre></div>
<p>To replicate the Panel B of Table 3 we use a similar code to the one presented previously to recreate Panel A:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb28-1"><a href="regression-discontinuity-design.html#cb28-1" tabindex="-1"></a>esttab, se(3) <span class="kw">nolabel</span> b(3) sfmt(0) <span class="kw">keep</span>(nparties_seats) nostar <span class="kw">nonotes</span> refcat(nparties_seats <span class="st">&quot;B. 2SLS results&quot;</span>, <span class="kw">nolabel</span>) <span class="fu">s</span>(vmean band <span class="kw">N</span> FE controls, <span class="kw">label</span>(<span class="st">&quot;Mean of dep.var.&quot;</span> <span class="st">&quot;Bandwidth&quot;</span> <span class="st">&quot;Obs.&quot;</span> <span class="st">&quot;Fixed Effects&quot;</span> <span class="st">&quot;Controls&quot;</span>) fmt(3 3 0)) coeflabels(nparties_seats <span class="st">&quot;N. Parties&quot;</span>) varwidth(35) <span class="bn">title</span>(<span class="st">&quot;Table 2. Reduced-form and 2SLS Estimates - Fragmentation and Stability&quot;</span>) mtitles(<span class="st">&quot;Mayor uns.&quot;</span> <span class="st">&quot;Mayor uns.&quot;</span> <span class="st">&quot;Mayors uns.&quot;</span> <span class="st">&quot;Mayor uns.&quot;</span>)addnotes(<span class="st">&quot;Notes: Reduced-form and 2SLS estimates of the effect of the number of parties on the probability of unseating the mayor (equation 2). Sample restricted to elections in which the largest party receives less than 40 percent of valid votes. The dependent variable is an indicator taking value 1 if the mayor was unseated by a vote of no confidence during the legislature. Controls and FE are included as indicated in each column. Controls: surface and population (in logs). FE: number of available seats and election year fixed effects. The optimal bandwidth is calculated using the CCT method.Standard errors are clustered at the municipality level.&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="robustness-checks" class="section level3 hasAnchor" number="2.1.7">
<h3><span class="header-section-number">2.1.7</span> Robustness Checks<a href="regression-discontinuity-design.html#robustness-checks" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this last section, we explain how to perform two standard robustness checks for the RDD methodology among the five proposed by the paper, this to assess the sensitivity of the results to changes in model specifications or changes in the definition of the sample. By doing so, we ensure that the specific choices made during the analysis do not unduly influence the conclusions.</p>
<p>As stated in Table 3, first, we select the municipalities with 17 or more seats in council to verify that the fragmentation effect persists when concentrating solely on the set of compliers, in which the sample is restricted to municipality-election pairs where the 5 percent threshold is likely to be enforceable. (i.e. municipalities with 17 or more seats in the council).</p>
<p>Additionally, we present the “global quadratic polynomial” to be able to capture possible nonlinearities in the conditional expectation of the outcome, although it requires us to rely on more observations that are far from the threshold.</p>
<div id="table-3.-robustness-checks" class="section level4 unnumbered hasAnchor">
<h4><strong>Table 3. Robustness Checks</strong><a href="regression-discontinuity-design.html#table-3.-robustness-checks" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><img src="resources/CCR/table3.png" /></p>
<p>To run only this part, previously import the dataset again, keep only the observations from the Main Results sample and run again the globals and weights presented in page 14 of this document.</p>
</div>
<div id="a.-total-seats-over-17" class="section level4 unnumbered hasAnchor">
<h4><strong>A. Total Seats over 17</strong><a href="regression-discontinuity-design.html#a.-total-seats-over-17" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the first case, we only keep the sample in which the number of Council seats is greater than 17 to check the robustness. We store both regression results and IV regression results to be shown in different columns (see page 6 for the esttab and eststo explanations).</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb29-1"><a href="regression-discontinuity-design.html#cb29-1" tabindex="-1"></a>eststo <span class="kw">clear</span></span>
<span id="cb29-2"><a href="regression-discontinuity-design.html#cb29-2" tabindex="-1"></a><span class="kw">preserve</span> </span>
<span id="cb29-3"><a href="regression-discontinuity-design.html#cb29-3" tabindex="-1"></a>  <span class="kw">keep</span> <span class="kw">if</span> seats_total&gt;=17</span>
<span id="cb29-4"><a href="regression-discontinuity-design.html#cb29-4" tabindex="-1"></a>  rdbwselect mocion_5 rv, c(0) <span class="kw">p</span>(1) fuzzy(nparties_seats) <span class="kw">vce</span>(<span class="kw">cluster</span> id_towns) kernel(uni) <span class="ot">$weights_bw</span> covs(<span class="ot">$controls</span>)</span>
<span id="cb29-5"><a href="regression-discontinuity-design.html#cb29-5" tabindex="-1"></a>  <span class="kw">local</span> CCT_bw_l = <span class="fu">e</span>(h_mserd)</span>
<span id="cb29-6"><a href="regression-discontinuity-design.html#cb29-6" tabindex="-1"></a>  <span class="kw">local</span> band1 = <span class="fu">round</span>(‘CCT_bw_l’,0.001)</span>
<span id="cb29-7"><a href="regression-discontinuity-design.html#cb29-7" tabindex="-1"></a>  </span>
<span id="cb29-8"><a href="regression-discontinuity-design.html#cb29-8" tabindex="-1"></a>  eststo: <span class="kw">reg</span> nparties_seats <span class="kw">d</span> <span class="ot">$rv</span> <span class="ot">$fixed_effects</span> <span class="ot">$controls</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb29-9"><a href="regression-discontinuity-design.html#cb29-9" tabindex="-1"></a>  estadd <span class="kw">local</span> band ‘band1’</span>
<span id="cb29-10"><a href="regression-discontinuity-design.html#cb29-10" tabindex="-1"></a></span>
<span id="cb29-11"><a href="regression-discontinuity-design.html#cb29-11" tabindex="-1"></a>  eststo: ivreg2 mocion_5 <span class="ot">$rv</span> (nparties_seats = <span class="kw">d</span>) <span class="ot">$fixed_effects</span> <span class="ot">$controls$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb29-12"><a href="regression-discontinuity-design.html#cb29-12" tabindex="-1"></a></span>
<span id="cb29-13"><a href="regression-discontinuity-design.html#cb29-13" tabindex="-1"></a><span class="kw">restore</span></span>
<span id="cb29-14"><a href="regression-discontinuity-design.html#cb29-14" tabindex="-1"></a></span>
<span id="cb29-15"><a href="regression-discontinuity-design.html#cb29-15" tabindex="-1"></a>esttab, se(3) <span class="kw">nolabel</span> b(3) sfmt(0) <span class="kw">keep</span>(<span class="kw">d</span> nparties_seats) nostar <span class="kw">nonotes</span> <span class="kw">model</span>(35) refcat(<span class="kw">d</span> <span class="st">&quot;A. Large Councils Only (#seats &gt;= 17)&quot;</span>, <span class="kw">nolabel</span>) <span class="fu">s</span>(band <span class="kw">N</span>, <span class="kw">label</span>(<span class="st">&quot;Bandwidth&quot;</span> <span class="st">&quot;Obs.&quot;</span>) fmt(3 0)) coeflabels(nparties_seats <span class="st">&quot;N. Parties&quot;</span> <span class="kw">d</span> <span class="st">&quot;Above threshold&quot;</span>) varwidth(36) <span class="bn">title</span>(<span class="st">&quot;Table 5. ROBUSTNESS CHECKS&quot;</span>) mtitles(<span class="st">&quot;First-Stage&quot;</span> <span class="st">&quot;2SLS Estimate (N. Parties)&quot;</span>) addnotes(<span class="st">&quot;Notes: Column 1 shows the first-stage estimate of our instrument when estimating equation 3. Column 2 reports the associated 2SLS estimate of the effect of number of parties on stability obtained by estimating equation 2. Each panel corresponds to a different robustness check: A) estimates obtained restricting the sample to municipalities with 17 or more seats in the council. Standard errors clustered at the municipality level. Bandwidths obtained using the CCT method in all panels.&quot;</span>)</span></code></pre></div>
</div>
<div id="table-3.-robustness-checks-1" class="section level4 unnumbered hasAnchor">
<h4><strong>Table 3. Robustness Checks</strong><a href="regression-discontinuity-design.html#table-3.-robustness-checks-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><img src="resources/CCR/table4.png" /></p>
</div>
<div id="e.-global-quadratic-polynomial" class="section level4 unnumbered hasAnchor">
<h4><strong>E. Global Quadratic Polynomial</strong><a href="regression-discontinuity-design.html#e.-global-quadratic-polynomial" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This check considers a global quadratic polynomial, where the estimates are obtained using a large 5% bandwidth and a quadratic polynomial in the running variable.</p>
<p>To do this, first we generate two different variables which are the square of ”rv” (rv 2) and the square of ”rv” interacting with ”d” (rv d 2). Additionally, we define a global to store these values and use them in the regressions. Finally, we define and store a local macro with a 5% bandwidth.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb30-1"><a href="regression-discontinuity-design.html#cb30-1" tabindex="-1"></a>eststo <span class="kw">clear</span></span>
<span id="cb30-2"><a href="regression-discontinuity-design.html#cb30-2" tabindex="-1"></a><span class="kw">preserve</span></span>
<span id="cb30-3"><a href="regression-discontinuity-design.html#cb30-3" tabindex="-1"></a>  <span class="kw">local</span> CCT_bw_l = 0.05</span>
<span id="cb30-4"><a href="regression-discontinuity-design.html#cb30-4" tabindex="-1"></a>  <span class="kw">gen</span> rv_2=rv^2</span>
<span id="cb30-5"><a href="regression-discontinuity-design.html#cb30-5" tabindex="-1"></a>  <span class="kw">gen</span> rv_2_d=(rv^2)*<span class="kw">d</span></span>
<span id="cb30-6"><a href="regression-discontinuity-design.html#cb30-6" tabindex="-1"></a>  <span class="kw">global</span> rv_2 <span class="st">&quot;rv rv_d rv_2 rv_2_d&quot;</span> </span>
<span id="cb30-7"><a href="regression-discontinuity-design.html#cb30-7" tabindex="-1"></a>  <span class="kw">local</span> band5 = <span class="fu">round</span>(‘CCT_bw_l’,0.001)</span>
<span id="cb30-8"><a href="regression-discontinuity-design.html#cb30-8" tabindex="-1"></a>  </span>
<span id="cb30-9"><a href="regression-discontinuity-design.html#cb30-9" tabindex="-1"></a>  eststo: <span class="kw">reg</span> nparties_seats <span class="kw">d</span> <span class="ot">$rv_2</span> <span class="ot">$fixed_effects</span> <span class="ot">$controls</span> <span class="ot">$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb30-10"><a href="regression-discontinuity-design.html#cb30-10" tabindex="-1"></a>  estadd <span class="kw">local</span> band ‘band5’</span>
<span id="cb30-11"><a href="regression-discontinuity-design.html#cb30-11" tabindex="-1"></a>  </span>
<span id="cb30-12"><a href="regression-discontinuity-design.html#cb30-12" tabindex="-1"></a>  eststo: ivreg2 mocion_5 <span class="ot">$rv_2</span> (nparties_seats = <span class="kw">d</span>) <span class="ot">$fixed_effects</span> <span class="ot">$controls$weights_reg</span> <span class="kw">if</span> <span class="fu">abs</span>(rv)&lt;‘CCT_bw_l’, <span class="kw">cluster</span>(id_towns)</span>
<span id="cb30-13"><a href="regression-discontinuity-design.html#cb30-13" tabindex="-1"></a> </span>
<span id="cb30-14"><a href="regression-discontinuity-design.html#cb30-14" tabindex="-1"></a><span class="kw">restore</span></span>
<span id="cb30-15"><a href="regression-discontinuity-design.html#cb30-15" tabindex="-1"></a></span>
<span id="cb30-16"><a href="regression-discontinuity-design.html#cb30-16" tabindex="-1"></a>esttab, se(3) <span class="kw">nolabel</span> b(3) sfmt(0) <span class="kw">keep</span>(<span class="kw">d</span> nparties_seats) nostar <span class="kw">nonotes</span> <span class="kw">model</span>(35) refcat(<span class="kw">d</span> <span class="st">&quot;E. Global Quadratic Polynomial&quot;</span>, <span class="kw">nolabel</span>) <span class="fu">s</span>(band <span class="kw">N</span>, <span class="kw">label</span>(<span class="st">&quot;Bandwidth&quot;</span> <span class="st">&quot;Obs.&quot;</span>) fmt(3 0)) coeflabels(nparties_seats <span class="st">&quot;N. Parties&quot;</span> d<span class="st">&quot;Above threshold&quot;</span>) varwidth(36) <span class="bn">title</span>(<span class="st">&quot;Table 5. ROBUSTNESS CHECKS&quot;</span>) mtitles(<span class="st">&quot;First-Stage&quot;</span> <span class="st">&quot;2SLS Estimate (N. Parties)&quot;</span>) addnotes(<span class="st">&quot;Notes: Column 1 shows the first-stage estimate of our instrument when estimating equation 3. Column 2 reports the associated 2SLS estimate of the effect of number of parties on stability obtained by estimating equation 2. Each panel corresponds to a different robustness check: E) estimates obtained using a large 5% bandwidth and a quadratic polynomial in the running variable. Standard errors clustered at the municipality level. Bandwidths obtained using the CCT method in all panels.&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="references" class="section level3 hasAnchor" number="2.1.8">
<h3><span class="header-section-number">2.1.8</span> References<a href="regression-discontinuity-design.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Carozzi, F., Cipullo, Da. &amp; Repetto, L. (2022). ”Political Fragmentation and Government Stability: Evidence from Local Governments in Spain.” American Economic Journal: Applied Economics, 14 (2): 23-50.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="regression-discontinuity-design-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/SorbonneDevEcon/M2-Econometrics-Book/edit/main/02-tears.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/SorbonneDevEcon/M2-Econometrics-Book/blob/main/02-tears.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
